version: "3.1"

# ============================================================================
# INTENTS - All possible user intentions
# ============================================================================
intents:
  # Greetings & Farewells
  - greet
  - goodbye
  - thank_you
  - affirm
  - deny
  
  # Product Search & Inquiry
  - search_product
  - ask_product_price
  - check_product_availability
  - ask_product_details
  
  # Order Management
  - track_order
  - cancel_order
  - modify_order
  
  # FAQ & Policies
  - ask_shipping_policy
  - ask_return_policy
  - ask_payment_methods
  - ask_warranty
  
  # Recommendations
  - ask_recommendation
  - compare_products
  
  # Support
  - create_support_ticket
  - ask_contact_info
  
  # Chitchat
  - bot_challenge
  
  # Fashion E-commerce (NEW)
  - ask_size_guide
  - ask_material
  - ask_available_colors
  - ask_promotions
  - ask_delivery_time
  - ask_fit_style
  - ask_styling_advice
  - search_by_occasion
  - compare_product_details
  - ask_reviews

  # Advanced E-commerce (NEW)
  - ask_sizing_advice
  - ask_product_care
  - report_order_error
  - request_exchange_item
  - report_quality_issue
  - request_policy_exception
  - request_stock_notification_conditional
  - check_discount_logic
  - ask_product_comparison_contextual
  
  # System
  - nlu_fallback
  - inform

# ============================================================================
# ENTITIES - Information extracted from user messages
# ============================================================================
entities:
  - product_name
  - product_type
  - order_number
  - size
  - color
  - brand
  - category
  - price_range
  - occasion
  - style
  - material
  - fit_type
  - body_type
  - fit_preference
  - height
  - weight
  - care_property
  - error_type
  - quantity
  - product_to_return
  - product_to_get
  - reason
  - defect_description
  - policy_type
  - price_condition
  - discount_code
  - context

# ============================================================================
# SLOTS - Variables to store conversation context
# ============================================================================
slots:
  # Product-related slots
  products_found:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
    - type: custom
  
  last_search_query:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  last_products:
    type: list
    influence_conversation: false
    mappings:
    - type: custom
  
  last_product:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  
  # Order-related slots
  last_order:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  
  user_jwt_token:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  # User preferences
  preferred_category:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  # Fallback tracking
  fallback_count:
    type: float
    initial_value: 0
    influence_conversation: true
    mappings:
    - type: custom

# ============================================================================
# RESPONSES - Template responses from the bot
# ============================================================================
responses:
  # Greetings & Farewells
  utter_greet:
  - text: "Hello! ğŸ‘‹ Welcome to our store. How can I assist you today?"
  - text: "Hi there! I'm here to help you with products, orders, and any questions you have. What can I do for you?"
  - text: "Welcome! I'm your shopping assistant. Feel free to ask about products, orders, or policies."
  
  utter_goodbye:
  - text: "Goodbye! Have a great day! ğŸ˜Š"
  - text: "Thanks for chatting! Feel free to come back anytime. Take care!"
  - text: "See you later! Don't hesitate to reach out if you need anything else."
  
  utter_you_are_welcome:
  - text: "You're welcome! Anything else I can help with?"
  - text: "Happy to help! Is there anything else you'd like to know?"
  - text: "My pleasure! Let me know if you need anything else."
  
  # Bot Identity
  utter_i_am_bot:
  - text: "I'm an AI shopping assistant here to help you find products, track orders, and answer your questions!"
  - text: "Yes, I'm a bot! But I'm here to make your shopping experience smooth and easy. How can I help?"
  
  # Product-related responses
  utter_no_products_found:
  - text: "I couldn't find any products matching your search. Would you like to try different keywords or browse by category?"
  - text: "Sorry, no matches found. Could you describe what you're looking for in different words?"
  
  utter_ask_product_specification:
  - text: "What specific features or specifications are you looking for?"
  - text: "Could you tell me more about what you need? Size, color, brand?"
  
  utter_help_order:
  - text: "Ready to order? I can guide you through the checkout process or answer any questions first!"
  - text: "Would you like to proceed with your order, or do you have more questions?"
  
  # Order-related responses
  utter_ask_order_number:
  - text: "Could you please provide your order number? It usually starts with '#' followed by numbers."
  - text: "What's your order number? You can find it in your confirmation email."
  
  utter_order_cancellation_confirmed:
  - text: "Your cancellation request has been submitted. Our team will process it within 24 hours."
  
  # Policy responses (fallback if API fails)
  utter_default_shipping_policy:
  - text: "We offer free standard shipping on orders over $50. Standard delivery takes 5-7 business days. Express shipping ($15) takes 2-3 days."
  
  utter_default_return_policy:
  - text: "Returns are accepted within 30 days of purchase. Items must be unused in original packaging. Refunds processed in 5-7 business days."
  
  # Support responses
  utter_contact_info:
  - text: "You can reach us at:\nğŸ“§ Email: support@store.com\nğŸ“ Phone: 1-800-SHOP-NOW\nğŸ’¬ Live chat available 9 AM - 9 PM"
  - text: "Contact our support team:\nâ€¢ Email: help@store.com\nâ€¢ Phone: +1 (800) 123-4567\nâ€¢ Chat: Available on our website"
  
  # Fashion E-commerce Responses (NEW)
  utter_size_guide:
  - text: "ğŸ“ Báº£ng size cá»§a shop:\nâ€¢ S: 50-55kg, 1m60-1m65\nâ€¢ M: 55-65kg, 1m65-1m72\nâ€¢ L: 65-75kg, 1m72-1m78\nâ€¢ XL: 75-85kg, 1m78+\n\nBáº¡n muá»‘n mÃ¬nh tÆ° váº¥n cá»¥ thá»ƒ hÆ¡n khÃ´ng? ğŸ˜Š"
  - text: "Äá»ƒ chá»n size phÃ¹ há»£p:\n1ï¸âƒ£ Äo chiá»u cao & cÃ¢n náº·ng\n2ï¸âƒ£ Tham kháº£o báº£ng size\n3ï¸âƒ£ Náº¿u giá»¯a 2 size, chá»n size lá»›n hÆ¡n\n\nBáº¡n cáº§n tÆ° váº¥n size cá»¥ thá»ƒ khÃ´ng?"
  
  utter_material_info:
  - text: "Sáº£n pháº©m nÃ y lÃ m tá»« cháº¥t liá»‡u cao cáº¥p, thoÃ¡ng mÃ¡t vÃ  bá»n Ä‘áº¹p. Báº¡n muá»‘n biáº¿t vá» sáº£n pháº©m cá»¥ thá»ƒ nÃ o nhÃ©?"
  - text: "Shop cÃ³ nhiá»u cháº¥t liá»‡u: Cotton 100%, Polyester, Blend... Báº¡n Ä‘ang xem sáº£n pháº©m nÃ o Ä‘á»ƒ mÃ¬nh check chi tiáº¿t cho báº¡n? ğŸ‘•"
  
  utter_colors_available:
  - text: "Sáº£n pháº©m nÃ y cÃ³ cÃ¡c mÃ u: Äen, Tráº¯ng, XÃ¡m, Navy. Báº¡n thÃ­ch mÃ u nÃ o nháº¥t? ğŸ¨"
  - text: "MÃ u nÃ o cÃ²n hÃ ng nhá»‰... Äá»ƒ mÃ¬nh check cho báº¡n! Báº¡n Ä‘ang xem sáº£n pháº©m nÃ o váº­y?"
  
  utter_promotions_info:
  - text: "ğŸ‰ Æ¯u Ä‘Ã£i hiá»‡n táº¡i:\nâ€¢ Giáº£m 20% cho Ä‘Æ¡n tá»« 500k\nâ€¢ Freeship Ä‘Æ¡n tá»« 300k\nâ€¢ TÃ­ch Ä‘iá»ƒm Ä‘á»•i quÃ \n\nNháº­p mÃ£: FASHION20 khi thanh toÃ¡n nhÃ©!"
  - text: "Äang cÃ³ sale hot Ä‘Ã¢y báº¡n! ğŸ”¥\n- Giáº£m Ä‘áº¿n 30% má»™t sá»‘ items\n- Combo 3 mÃ³n giáº£m 25%\n- Freeship toÃ n quá»‘c\n\nMua ngay káº»o háº¿t! ğŸ˜Š"
  
  utter_delivery_info:
  - text: "â° Thá»i gian giao hÃ ng:\nâ€¢ Ná»™i thÃ nh: 1-2 ngÃ y\nâ€¢ Ngoáº¡i thÃ nh: 2-4 ngÃ y\nâ€¢ Tá»‰nh: 3-5 ngÃ y\n\nShop ship cá»±c nhanh luÃ´n nhÃ©! ğŸšš"
  - text: "Giao hÃ ng nhanh láº¯m báº¡n Æ¡i! ThÆ°á»ng 2-3 ngÃ y lÃ  cÃ³ hÃ ng rá»“i. Äáº·t hÃ´m nay, máº·c ngay cuá»‘i tuáº§n! ğŸ˜"
  
  utter_fit_info:
  - text: "Form Ã¡o nÃ y lÃ  regular fit - vá»«a váº·n, khÃ´ng quÃ¡ rá»™ng hay Ã´m. PhÃ¹ há»£p má»i dÃ¡ng ngÆ°á»i nhÃ©! ğŸ‘”"
  - text: "Shop cÃ³ Ä‘áº§y Ä‘á»§ form: Slim fit (Ã´m), Regular (vá»«a), Oversize (rá»™ng). Báº¡n thÃ­ch style nÃ o?"
  
  utter_styling_advice:
  - text: "âœ¨ Gá»£i Ã½ phá»‘i Ä‘á»“:\nâ€¢ Ão polo + quáº§n kaki = Lá»‹ch sá»± Ä‘i lÃ m\nâ€¢ Ão thun + jean = NÄƒng Ä‘á»™ng dáº¡o phá»‘\nâ€¢ Ão sÆ¡ mi + quáº§n Ã¢u = Sang trá»ng Ä‘i event\n\nBáº¡n muá»‘n outfit cho dá»‹p nÃ o?"
  - text: "MÃ³n nÃ y mÃ¬nh recommend phá»‘i vá»›i:\nğŸ”¹ Quáº§n jeans Ä‘en/xanh navy\nğŸ”¹ GiÃ y sneaker tráº¯ng\nğŸ”¹ ThÃªm Ä‘á»“ng há»“/vÃ²ng tay cho trendy!\n\nBáº¡n cÃ³ muá»‘n xem outfit máº«u khÃ´ng? ğŸ“¸"
  
  utter_occasion_suggestions:
  - text: "Äi lÃ m thÃ¬ nÃªn chá»n:\nğŸ‘” Ão polo, sÆ¡ mi\nğŸ‘– Quáº§n kaki, Ã¢u\nğŸ‘ GiÃ y da/loafer\n\nMÃ¬nh cÃ³ thá»ƒ gá»£i Ã½ cá»¥ thá»ƒ hÆ¡n náº¿u báº¡n cáº§n!"
  - text: "Outfit theo dá»‹p:\nâ€¢ Äi lÃ m: Smart casual\nâ€¢ Äi chÆ¡i: Streetwear\nâ€¢ Date: Neat & clean\nâ€¢ Du lá»‹ch: Thoáº£i mÃ¡i\n\nBáº¡n cáº§n outfit cho dá»‹p nÃ o nÃ o?"
  
  utter_product_comparison:
  - text: "Äá»ƒ mÃ¬nh so sÃ¡nh 2 sáº£n pháº©m cho báº¡n! Báº¡n Ä‘ang phÃ¢n vÃ¢n giá»¯a mÃ³n nÃ o vÃ  mÃ³n nÃ o?"
  - text: "Okay! Cho mÃ¬nh biáº¿t 2 sáº£n pháº©m báº¡n muá»‘n so sÃ¡nh Ä‘á»ƒ mÃ¬nh phÃ¢n tÃ­ch giÃ¡/cháº¥t lÆ°á»£ng/style cho báº¡n nhÃ©!"
  
  utter_reviews_info:
  - text: "Sáº£n pháº©m nÃ y Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ ráº¥t cao! â­â­â­â­â­\nâ€¢ Cháº¥t liá»‡u tá»‘t\nâ€¢ Form Ä‘áº¹p\nâ€¢ GiÃ¡ há»£p lÃ½\n\nNhiá»u báº¡n Ä‘Ã£ mua vÃ  ráº¥t hÃ i lÃ²ng Ä‘áº¥y!"
  - text: "Review tá»« khÃ¡ch hÃ ng:\nğŸ’¯ Cháº¥t lÆ°á»£ng tá»‘t\nğŸ’¯ ÄÃºng size\nğŸ’¯ MÃ u Ä‘áº¹p nhÆ° hÃ¬nh\n\nBáº¡n cá»© yÃªn tÃ¢m order nhÃ©! ğŸ˜Š"
  
  # Support responses
  utter_support_ticket_created:
  - text: "ÄÃ£ táº¡o ticket há»— trá»£ thÃ nh cÃ´ng! ğŸ«\nTeam support sáº½ liÃªn há»‡ báº¡n trong 24h. Cáº£m Æ¡n báº¡n Ä‘Ã£ kiÃªn nháº«n!"
  - text: "Ticket cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c ghi nháº­n! âœ…\nBá»™ pháº­n há»— trá»£ sáº½ xá»­ lÃ½ vÃ  pháº£n há»“i sá»›m nháº¥t. Xin cáº£m Æ¡n!"
  
  # Clarification responses
  utter_ask_rephrase:
  - text: "I'm not sure I understood that correctly. Could you rephrase your question?"
  - text: "Could you explain that in different words? I want to make sure I help you correctly."
  
  utter_default:
  - text: "I can help you with product searches, order tracking, shipping policies, and more. What would you like to know?"

# ============================================================================
# ACTIONS - Custom actions implemented in actions.py
# ============================================================================
actions:
  # Product actions
  - action_search_products
  - action_get_product_price
  - action_check_availability
  - action_get_product_details
  
  # Order actions
  - action_track_order
  - action_cancel_order_request
  
  # Policy actions
  - action_get_shipping_policy
  - action_get_return_policy
  - action_get_payment_methods
  - action_get_warranty_policy
  
  # Recommendation actions
  - action_recommend_products
  - action_compare_products
  
  # Support actions
  - action_create_support_ticket
  - action_fallback
  
  # Utility actions
  - action_default_ask_affirmation
  
  # Advanced e-commerce actions (NEW)
  - action_get_sizing_advice
  - action_get_styling_advice
  - action_get_product_care
  - action_report_order_error
  - action_request_return_or_exchange
  - action_report_quality_issue
  - action_handle_policy_exception
  - action_set_stock_notification
  - action_check_discount

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================
session_config:
  session_expiration_time: 60  # 60 minutes
  carry_over_slots_to_new_session: true
