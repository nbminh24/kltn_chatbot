version: "3.1"

# ============================================================================
# INTENTS - 29 Core Intents for E-commerce Fashion Chatbot
# Based on specification: 02_INTENT_LOGIC_TABLE.md
# ============================================================================
intents:
  # ===== NH√ìM 1: CH√ÄO H·ªéI & GIAO TI·∫æP C∆† B·∫¢N (4) =====
  - greet                         # Ch√†o h·ªèi
  - goodbye                       # T·∫°m bi·ªát
  - thanks                        # C·∫£m ∆°n (renamed from thank_you)
  - bot_identity                  # H·ªèi v·ªÅ bot
  
  # ===== NH√ìM 2: T√åM KI·∫æM & S·∫¢N PH·∫®M (6) =====
  - product_search_text           # T√¨m s·∫£n ph·∫©m theo text
  - product_search_image          # T√¨m s·∫£n ph·∫©m b·∫±ng ·∫£nh
  - product_ask_info              # H·ªèi chi ti·∫øt s·∫£n ph·∫©m (material, price, origin)
  - product_check_stock           # Ki·ªÉm tra t·ªìn kho (size, color)
  - ask_promotion                 # H·ªèi v·ªÅ khuy·∫øn m√£i
  - product_recommend_context     # G·ª£i √Ω s·∫£n ph·∫©m theo ng·ªØ c·∫£nh (wedding, beach, work)
  
  # ===== NH√ìM 3: SIZE & T∆Ø V·∫§N (2) =====
  - consult_size_chart            # Xem b·∫£ng size
  - consult_size_advice           # T∆∞ v·∫•n size c√° nh√¢n (height, weight)
  
  # ===== NH√ìM 4: H√ÄNH ƒê·ªòNG MUA H√ÄNG (3) =====
  - action_add_cart               # Th√™m v√†o gi·ªè h√†ng
  - action_buy_now                # Mua ngay
  - action_add_wishlist           # L∆∞u y√™u th√≠ch
  
  # ===== NH√ìM 5: ƒê∆†N H√ÄNG & H·∫¨U M√ÉI (3) =====
  - order_status_check            # Tra c·ª©u tr·∫°ng th√°i ƒë∆°n h√†ng
  - order_cancel_request          # Y√™u c·∫ßu h·ªßy ƒë∆°n
  - order_feedback                # G·ª≠i ph·∫£n h·ªìi/khi·∫øu n·∫°i ƒë∆°n h√†ng
  
  # ===== NH√ìM 6: CH√çNH S√ÅCH & FAQ (9) =====
  - faq_store_info                # Th√¥ng tin c·ª≠a h√†ng
  - faq_contact_human             # G·∫∑p nh√¢n vi√™n
  - faq_payment_method            # Ph∆∞∆°ng th·ª©c thanh to√°n
  - faq_payment_cod               # H·ªèi v·ªÅ Ship COD
  - faq_shipping_fee              # H·ªèi ph√≠ ship
  - faq_shipping_time             # Th·ªùi gian giao h√†ng
  - faq_shipping_check            # Cho xem h√†ng tr∆∞·ªõc (ƒë·ªìng ki·ªÉm)
  - faq_return_policy             # Ch√≠nh s√°ch ƒë·ªïi tr·∫£
  - faq_product_auth              # H·ªèi h√†ng ch√≠nh h√£ng
  
  # ===== NH√ìM 7: FALLBACK (2) =====
  - out_of_scope_gemini           # C√¢u h·ªèi ngo√†i l·ªÅ (g·ªçi Gemini AI)
  - nlu_fallback                  # Kh√¥ng hi·ªÉu
  
  # ===== SYSTEM INTENTS =====
  - affirm                        # ƒê·ªìng √Ω
  - deny                          # T·ª´ ch·ªëi

# ============================================================================
# ENTITIES - Information extracted from user messages  
# ============================================================================
entities:
  # Product-related
  - product_name              # T√™n s·∫£n ph·∫©m
  - product_type              # Lo·∫°i s·∫£n ph·∫©m (synonym: category)
  - category                  # Danh m·ª•c (√°o, qu·∫ßn, gi√†y)
  - brand                     # Th∆∞∆°ng hi·ªáu
  - color                     # M√†u s·∫Øc
  - size                      # Size (S, M, L, XL)
  - material                  # Ch·∫•t li·ªáu (cotton, polyester)
  - price_range               # Kho·∫£ng gi√°
  
  # Order-related
  - order_id                  # M√£ ƒë∆°n h√†ng
  - order_number              # S·ªë ƒë∆°n h√†ng (synonym)
  - quantity                  # S·ªë l∆∞·ª£ng
  
  # Customer measurements
  - height                    # Chi·ªÅu cao
  - weight                    # C√¢n n·∫∑ng
  - body_type                 # D√°ng ng∆∞·ªùi
  
  # Context & Occasion
  - context                   # Ng·ªØ c·∫£nh (wedding, beach, work, party, casual, sport)
  - occasion                  # D·ªãp (synonym: context)
  
  # Information types
  - info_type                 # Lo·∫°i th√¥ng tin c·∫ßn h·ªèi (material, price, origin)
  
  # Feedback & Issues
  - issue_type                # Lo·∫°i v·∫•n ƒë·ªÅ (damaged, wrong_item, attitude)
  - reason                    # L√Ω do

# ============================================================================
# SLOTS - Variables to store conversation context
# Based on specification: 03_DATA_FLOW.md
# ============================================================================
slots:
  # ===== SESSION & USER CONTEXT =====
  customer_id:
    type: float
    influence_conversation: false
    mappings:
    - type: custom
  
  visitor_id:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  session_id:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  # ===== PRODUCT CONTEXT =====
  products_found:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
    - type: custom
  
  last_search_query:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  last_products:
    type: list
    influence_conversation: false
    mappings:
    - type: custom
  
  current_product_id:
    type: float
    influence_conversation: false
    mappings:
    - type: custom
  
  current_variant_id:
    type: float
    influence_conversation: false
    mappings:
    - type: custom
  
  # ===== SLOT FILLING FOR CART =====
  cart_size:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  cart_color:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  cart_quantity:
    type: float
    initial_value: 1
    influence_conversation: false
    mappings:
    - type: custom
  
  # ===== ORDER CONTEXT =====
  last_order_id:
    type: float
    influence_conversation: false
    mappings:
    - type: custom
  
  last_order:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  
  # ===== CONVERSATION CONTEXT =====
  context:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  
  # ===== FALLBACK TRACKING =====
  fallback_count:
    type: float
    initial_value: 0
    influence_conversation: true
    mappings:
    - type: custom

# ============================================================================
# RESPONSES - Template responses from the bot
# ============================================================================
responses:
  # Greetings & Farewells
  utter_greet:
  - text: "Hello! üëã Welcome to our store. How can I assist you today?"
  - text: "Hi there! I'm here to help you with products, orders, and any questions you have. What can I do for you?"
  - text: "Welcome! I'm your shopping assistant. Feel free to ask about products, orders, or policies."
  
  utter_goodbye:
  - text: "Goodbye! Have a great day! üòä"
  - text: "Thanks for chatting! Feel free to come back anytime. Take care!"
  - text: "See you later! Don't hesitate to reach out if you need anything else."
  
  utter_you_are_welcome:
  - text: "You're welcome! Anything else I can help with?"
  - text: "Happy to help! Is there anything else you'd like to know?"
  - text: "My pleasure! Let me know if you need anything else."
  
  # Bot Identity
  utter_i_am_bot:
  - text: "I'm an AI shopping assistant here to help you find products, track orders, and answer your questions!"
  - text: "Yes, I'm a bot! But I'm here to make your shopping experience smooth and easy. How can I help?"
  
  # Product-related responses
  utter_no_products_found:
  - text: "I couldn't find any products matching your search. Would you like to try different keywords or browse by category?"
  - text: "Sorry, no matches found. Could you describe what you're looking for in different words?"
  
  utter_ask_product_specification:
  - text: "What specific features or specifications are you looking for?"
  - text: "Could you tell me more about what you need? Size, color, brand?"
  
  utter_help_order:
  - text: "Ready to order? I can guide you through the checkout process or answer any questions first!"
  - text: "Would you like to proceed with your order, or do you have more questions?"
  
  # Order-related responses
  utter_ask_order_number:
  - text: "Could you please provide your order number? It usually starts with '#' followed by numbers."
  - text: "What's your order number? You can find it in your confirmation email."
  
  utter_order_cancellation_confirmed:
  - text: "Your cancellation request has been submitted. Our team will process it within 24 hours."
  
  # Policy responses (fallback if API fails)
  utter_default_shipping_policy:
  - text: "We offer free standard shipping on orders over $50. Standard delivery takes 5-7 business days. Express shipping ($15) takes 2-3 days."
  
  utter_default_return_policy:
  - text: "Returns are accepted within 30 days of purchase. Items must be unused in original packaging. Refunds processed in 5-7 business days."
  
  # Support responses
  utter_contact_info:
  - text: "You can reach us at:\nüìß Email: support@store.com\nüìû Phone: 1-800-SHOP-NOW\nüí¨ Live chat available 9 AM - 9 PM"
  - text: "Contact our support team:\n‚Ä¢ Email: help@store.com\n‚Ä¢ Phone: +1 (800) 123-4567\n‚Ä¢ Chat: Available on our website"
  
  # Fashion E-commerce Responses (NEW)
  utter_size_guide:
  - text: "üìè Size Guide:\n‚Ä¢ S: 50-55kg, 160-165cm\n‚Ä¢ M: 55-65kg, 165-172cm\n‚Ä¢ L: 65-75kg, 172-178cm\n‚Ä¢ XL: 75-85kg, 178cm+\n\nWould you like personalized sizing advice? üòä"
  - text: "To choose the right size:\n1Ô∏è‚É£ Measure height & weight\n2Ô∏è‚É£ Check size chart\n3Ô∏è‚É£ If between sizes, size up\n\nNeed specific size advice?"
  
  utter_material_info:
  - text: "This product is made from premium, breathable, and durable materials. Which specific product would you like details about?"
  - text: "We have various materials: 100% Cotton, Polyester, Blends... Which product are you checking? üëï"
  
  utter_colors_available:
  - text: "This product comes in: Black, White, Gray, Navy. Which color do you prefer? üé®"
  - text: "Let me check which colors are in stock! Which product are you viewing?"
  
  utter_promotions_info:
  - text: "üéâ Current promotions:\n‚Ä¢ 20% off orders over $50\n‚Ä¢ Free shipping over $30\n‚Ä¢ Loyalty points rewards\n\nUse code: FASHION20 at checkout!"
  - text: "Hot sale now! üî•\n- Up to 30% off selected items\n- 3-piece combo 25% off\n- Free nationwide shipping\n\nShop now before they're gone! üòä"
  
  utter_delivery_info:
  - text: "‚è∞ Delivery time:\n‚Ä¢ City: 1-2 days\n‚Ä¢ Suburbs: 2-4 days\n‚Ä¢ Provinces: 3-5 days\n\nWe ship super fast! üöö"
  - text: "Fast delivery! Usually 2-3 days. Order today, wear this weekend! üòé"
  
  utter_fit_info:
  - text: "This is regular fit - not too loose or tight. Suits all body types! üëî"
  - text: "We have all fits: Slim fit (fitted), Regular (standard), Oversize (loose). What's your style?"
  
  utter_styling_advice:
  - text: "‚ú® Styling suggestions:\n‚Ä¢ Polo + chinos = Office smart\n‚Ä¢ T-shirt + jeans = Casual street\n‚Ä¢ Dress shirt + slacks = Event elegant\n\nWhat occasion?"
  - text: "I recommend pairing this with:\nüîπ Black/navy jeans\nüîπ White sneakers\nüîπ Add watch/bracelet for trend!\n\nWant to see outfit samples? üì∏"
  
  utter_occasion_suggestions:
  - text: "For work, choose:\nüëî Polo, dress shirts\nüëñ Chinos, slacks\nüëû Leather/loafers\n\nNeed specific recommendations?"
  - text: "Outfit by occasion:\n‚Ä¢ Work: Smart casual\n‚Ä¢ Hangout: Streetwear\n‚Ä¢ Date: Neat & clean\n‚Ä¢ Travel: Comfortable\n\nWhat occasion?"
  
  utter_product_comparison:
  - text: "Let me compare products for you! Which two items are you deciding between?"
  - text: "Sure! Tell me which 2 products to compare for price/quality/style analysis!"
  
  utter_reviews_info:
  - text: "This product is highly rated! ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê\n‚Ä¢ Great quality\n‚Ä¢ Perfect fit\n‚Ä¢ Fair price\n\nMany customers love it!"
  - text: "Customer reviews:\nüíØ Good quality\nüíØ True to size\nüíØ Color as shown\n\nOrder with confidence! üòä"
  
  # Support responses
  utter_support_ticket_created:
  - text: "Support ticket created successfully! üé´\nOur team will contact you within 24h. Thank you for your patience!"
  - text: "Your ticket has been recorded! ‚úÖ\nSupport team will process and respond ASAP. Thank you!"
  
  # Clarification responses
  utter_ask_rephrase:
  - text: "I'm not sure I understood that correctly. Could you rephrase your question?"
  - text: "Could you explain that in different words? I want to make sure I help you correctly."
  
  utter_default:
  - text: "I can help you with product searches, order tracking, shipping policies, and more. What would you like to know?"

# ============================================================================
# ACTIONS - Custom actions implemented in actions.py
# Mapped to 29 intents according to specification
# ============================================================================
actions:
  # ===== PRODUCT SEARCH & INQUIRY =====
  - action_search_products              # product_search_text
  - action_search_products_by_image     # product_search_image
  - action_get_product_info             # product_ask_info
  - action_check_stock                  # product_check_stock
  - action_get_promotions               # ask_promotion
  - action_recommend_by_context         # product_recommend_context
  
  # ===== SIZE & CONSULTATION =====
  - action_get_size_chart               # consult_size_chart
  - action_get_sizing_advice            # consult_size_advice
  
  # ===== CART & PURCHASE ACTIONS =====
  - action_add_to_cart                  # action_add_cart
  - action_buy_now                      # action_buy_now
  - action_add_to_wishlist              # action_add_wishlist
  
  # ===== ORDER MANAGEMENT =====
  - action_check_order_status           # order_status_check
  - action_cancel_order                 # order_cancel_request
  - action_create_feedback_ticket       # order_feedback
  
  # ===== SUPPORT & FAQ =====
  - action_create_support_ticket        # faq_contact_human
  
  # ===== FALLBACK & AI =====
  - action_ask_gemini                   # out_of_scope_gemini
  - action_fallback                     # nlu_fallback
  
  # ===== UTILITY ACTIONS =====
  - action_default_ask_affirmation
  - action_reset_slots

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================
session_config:
  session_expiration_time: 60  # 60 minutes
  carry_over_slots_to_new_session: true
